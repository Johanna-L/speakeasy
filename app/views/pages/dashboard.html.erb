<h1>Mon profil</h1>

<div>
<%= @user.first_name %>
<%= @user.last_name %>
<%= @user.email %>
</div>

<%= image_tag @user.photo, alt: "profile_pic", style:"width: 200px" %>

<div>
<%= @user.background %>
<%= @user.social_media %>
</div>

<div>
<%= @user.company_name %>
<%= @user.company_info %>
</div>

<!-- For organizer -->
<% if @upcoming_bookings.any? %>
  <h2>Mes réservations à venir</h2>
    <table>
    <tr>
      <th>Date</th>
      <th>Titre</th>
      <th>Intervenant</th>
    </tr>

    <tr>
      <% @upcoming_bookings.each do |booking| %>
        <td><%= booking.date %></td>
        <td><%= booking.speaker_offering.title %><td>
        <td><%= booking.speaker_offering.user.first_name.capitalize %>
            <%= booking.speaker_offering.user.last_name.upcase %>
        </td>
      <% end %>
    </tr>
  </table>
<% end %>

<% if @past_bookings.any? %>
  <h2>Mes réservations passées</h2>
  <table>
    <tr>
      <th>Date</th>
      <th>Titre</th>
      <th>Intervenant</th>
      <th>Rating</th>
      <th>Commentaire</th>
    </tr>

    <tr>
      <% @past_bookings.each do |booking| %>
        <td><%= booking.date %></td>
        <td><%= booking.speaker_offering.title %><td>
        <td><%= booking.speaker_offering.user.first_name.capitalize %>
            <%= booking.speaker_offering.user.last_name.upcase %>
        </td>
        <td><%= booking.rating %></td>
        <td>
          <% if booking.review %>
            <%= booking.review %>
          <% else %>
            <%= link_to 'Laisser un commentaire', '#', class:'btn btn-primary' %>
          <% end %>
        </td>
      <% end %>
    </tr>
  </table>
<% end %>

<!-- For speaker -->
<% if @upcoming_speaker_bookings.any? %>
  <h2>Mes interventions à venir</h2>
    <table>
    <tr>
      <th>Date</th>
      <th>Titre</th>
      <th>Client</th>
    </tr>

    <tr>
      <% @upcoming_speaker_bookings.each do |booking| %>
        <td><%= booking.date %></td>
        <td><%= booking.speaker_offering.title %><td>
        <td><%= booking.user.first_name.capitalize %>
            <%= booking.user.last_name.upcase %>
        </td>
      <% end %>
    </tr>
  </table><% end %>

<% if @past_speaker_bookings.any? %>
  <h2>Mes interventions passées</h2>
  <table>
    <tr>
      <th>Date</th>
      <th>Titre</th>
      <th>Client</th>
      <th>Rating</th>
      <th>Commentaire</th>
    </tr>

    <tr>
      <% @past_speaker_bookings.each do |booking| %>
        <td><%= booking.date %></td>
        <td><%= booking.speaker_offering.title %><td>
        <td><%= booking.user.first_name.capitalize %>
            <%= booking.user.last_name.upcase %>
        </td>
        <td><%= booking.rating %></td>
        <td>
          <% if booking.review %>
            <%= booking.review %>
          <% else %>
            <%= booking.user.first_name.capitalize %>
          <% end %>
        </td>
      <% end %>
    </tr>
  </table>
<% end %>
